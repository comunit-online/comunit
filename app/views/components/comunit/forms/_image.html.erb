<%
  entity = f.object
  model_name = entity.class.to_s.underscore
  img = entity.simple_image
  src = img&.image.blank? ? 'biovision/placeholders/3x2.svg' : img.image.medium_url
%>
<div>
  <dt><%= f.label :simple_image_id %></dt>
  <dd>
    <figure class="image-preview" id="<%= model_name %>-image">
      <%=
        label_tag(
          "#{model_name}_image",
          image_tag(src, alt: ''),
          class: 'current-image',
          for: "#{model_name}_simple_image_id"
        )
      %>
      <figcaption>
        <div class="guideline"><%= t('shared.forms.simple_image.guideline') %></div>
      </figcaption>
    </figure>
    <label class="button button-ghost">
      <%=
        file_field_tag(
          "#{model_name}_image",
          accept: 'image/jpeg,image/png,image/svg+xml',
          class: 'input-text visually-hidden',
          data: {
            image: "#{model_name}-image"
          },
          id: "#{model_name}_simple_image_id"
        )
      %>
      <span><%= t('.new_image') %></span>
    </label>

  </dd>
</div>
